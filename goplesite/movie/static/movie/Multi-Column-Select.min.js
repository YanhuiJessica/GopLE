!function(e){var s=function(s,t,n){var l=e(s).attr("data"),a=e(s).parent();if(a.hasClass("Multi")){if(e(s).hasClass("active")){e(s).removeClass("active");var i=l;n.splice(e.inArray(i,n),1)}else e(s).addClass("active"),n.push(l);a.siblings("select").val(n)}a.hasClass("Multi")||(a.siblings("select").val(l),e(s).siblings("a."+t).removeClass("active"),e(s).addClass("active"))},t=function(s,t,n,l,a){var i=document.createElement("a"),o=document.createElement("div");e(i).addClass(s).addClass("mcs").html(t).appendTo(a),l===!0&&e(o).addClass("Multi"),e(o).addClass(n).appendTo(a)},n=function(s,t,n,l,a){var i,o,c="",d=e(s).parent();o+=1;var r="";t===!0&&(r=e(s).text()),null!==n&&(c="' id='"+n+o),i="<a class='"+l+"' data='"+e(s).attr("value")+c+"'>"+r+"</a>",d.siblings("."+a).append(i)},l=function(e){var s=e.find("select");s.show(),s.next().hasClass("mcs")&&(s.next().remove(),s.next().remove())};e.fn.MultiColumnSelect=function(l){var a,i=[];a=0;var o=e.extend({multiple:!1,useOptionText:!0,hideselect:!0,openmenuClass:"mcs-open",openmenuText:"Choose An Option",openclass:"open",containerClass:"mcs-container",itemClass:"mcs-item",idprefix:null,duration:200,onOpen:null,onClose:null,onItemSelect:null},l);return this.find("select").val(0),o.hideselect===!0?this.find("select").hide():this.find("select").show(),t(o.openmenuClass,o.openmenuText,o.containerClass,o.multiple,this),this.find("select option").each(function(){if(e(this).attr("selected")){n(this,o.useOptionText,o.idprefix,[o.itemClass+" selected"],o.containerClass);var t=e(".selected").parent().prev().prev();null!==t.val()&&(i=t.val()),s(e(".selected"),o.itemClass,i),e(".selected").toggleClass("selected")}else n(this,o.useOptionText,o.idprefix,o.itemClass,o.containerClass)}),this.on("click","."+o.itemClass,function(t){var n=e(this).parent().prev().prev();null!==n.val()&&(i=n.val()),s(this,o.itemClass,i),e.isFunction(o.onItemSelect)&&o.onItemSelect.call(this),t.preventDefault()}),this.find("."+o.openmenuClass).on("click",function(s){var t=e(this).next();e(this).hasClass(o.openclass)?(e(this).removeClass(o.openclass),t.slideToggle("slow",function(){e.isFunction(o.onClose)&&o.onClose.call(this)})):(e(this).addClass(o.openclass),t.slideToggle("slow",function(){e.isFunction(o.onOpen)&&o.onOpen.call(this)})),s.preventDefault()}),this},e.fn.MultiColumnSelectDestroy=function(){l(this)},e.fn.MultiColumnSelectAddItem=function(s,t,n){var l=this.find("select"),a=this.find("select options").size();l.append(e("<option/>",{value:s,text:t}));var i=l.next();if(i.hasClass("mcs")){var o=i.next(),c=o.children(),d=c.attr("class");d=d.substring(0,d.indexOf(" "));var r="";"undefined"!=typeof n&&(r="' id='"+n+a);var u="<a class='"+d+" additem' data='"+s+r+"'>"+t+"</a>";o.append(u)}}}(jQuery);